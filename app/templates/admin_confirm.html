<!DOCTYPE html>
<html>

<head>
    <title>Confirmar Película</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div class="container-lg py-4">

        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="mb-0">✅ Confirmar</h1>
            <a href="/admin" class="btn btn-outline-light">⬅ Regresar</a>
        </div>

        <div class="card shadow-sm admin-card">
            <div class="card-body">

                <div class="row align-items-center g-4">

                    <div class="col-auto">
                        {% if poster_path %}
                        <div class="poster-wrapper poster-lg">
                            <img src="https://image.tmdb.org/t/p/w500{{ poster_path }}" alt="Poster">
                        </div>
                        {% endif %}
                    </div>

                    <div class="col-md">
                        <h2 class="mb-1">{{ title }} {% if year %}({{ year }}){% endif %}</h2>
                        <p class="text-muted mb-3">Establece la fecha vista y el estado.</p>

                        <form action="/admin/add_movie_tmdb" method="post"
                            class="d-flex flex-wrap gap-2 align-items-end">
                            <input type="hidden" name="tmdb_id" value="{{ tmdb_id }}">
                            <input type="hidden" name="title" value="{{ title }}">

                            <div>
                                <label class="form-label mb-1">Fecha vista</label>
                                <input class="form-control admin-input" type="date" name="date_watched" required>
                            </div>

                            <div>
                                <label class="form-label mb-1">Estado</label>
                                <select class="form-select admin-input" name="status">
                                    <option value="weekly">Película de la Semana</option>
                                    <option value="seen">Vista</option>
                                </select>
                            </div>

                            <button class="btn btn-premium" type="submit">Agregar</button>
                        </form>

                    </div>
                </div>

            </div>
        </div>

    </div>
</body>

</html>

<style>
    body {
        background-color: #14181c;
        color: #f1f1f1;
    }

    .text-muted {
        color: rgba(241, 241, 241, .65) !important;
    }

    .admin-card {
        background: linear-gradient(180deg, #1c2228 0%, #151a1f 100%);
        border: 0;
        border-radius: 14px;
        color: #f1f1f1;
    }

    .admin-input {
        background: #11161b;
        border: 1px solid rgba(255, 255, 255, .08);
        color: #f1f1f1;
    }

    .admin-input:focus {
        background: #11161b;
        color: #f1f1f1;
        border-color: rgba(255, 209, 102, .55);
        box-shadow: 0 0 0 .25rem rgba(255, 209, 102, .08);
    }

    .btn-premium {
        background: linear-gradient(135deg, #ffd166, #f4b942);
        color: #1b1f24;
        border: 0;
        border-radius: 999px;
        padding: .5rem 1.1rem;
        font-weight: 650;
        box-shadow: 0 8px 20px rgba(0, 0, 0, .35);
    }

    .poster-wrapper {
        aspect-ratio: 2/3;
        overflow: hidden;
        border-radius: 10px;
        background: #11161b;
        box-shadow: 0 10px 24px rgba(0, 0, 0, .45);
    }

    .poster-wrapper img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .poster-lg {
        width: 220px;
    }
</style>